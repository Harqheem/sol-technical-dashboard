<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SOL/USDT Technical Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d1117;
      color: #f0f6fc;
      margin: 0;
      padding: 20px;
    }
    h1 { text-align: center; color: #58a6ff; }
    .card {
      background: #161b22;
      border-radius: 10px;
      padding: 20px;
      margin: 15px 0;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    pre {
      background: #0d1117;
      padding: 10px;
      border-radius: 6px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <h1>SOL/USDT Technical Dashboard</h1>

  <div class="card">
    <h2>Current Price</h2>
    <p id="price">Loading...</p>
  </div>

  <div class="card">
    <h2>Debug JSON</h2>
    <pre id="rawJson">Loading...</pre>
  </div>

  <script>
    async function loadData() {
      try {
        const res = await fetch('/api/technical-data');
        const data = await res.json();

        // Update displayed values
        document.getElementById('price').textContent = data.currentPrice;

        // Debug output
        document.getElementById('rawJson').textContent = JSON.stringify(data, null, 2);

      } catch (err) {
        console.error("Error fetching data:", err);
        document.getElementById('rawJson').textContent = "Error fetching data.";
      }
    }

    // Initial load
    loadData();

    // Refresh every 15 seconds (15000 ms)
    setInterval(loadData, 15000);
  </script>
</body>
</html>
